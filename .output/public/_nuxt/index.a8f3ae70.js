import{a as _,b as k,e as C,k as x,o,f as l,h as s,w as y,i as w,l as c,F as b,r as N,t as p,m as d,p as f,T as P,j as m,u as S,q as T,s as F,x as I}from"./entry.3dcbab8f.js";import{a as O}from"./2.cart.44d1af40.js";const V={name:"Products",setup(){const i=k();let t=C();return{inventory:i,cart:t}},data(){return{pageNumber:1,items:0,layout:[3,2],filter:"pokemon",searchFilter:"",showCartNotification:!1}},watch:{cart:{handler(i,t){Object.keys(i).length>0&&(this.showCartNotification=!0,setTimeout(()=>{this.showCartNotification=!1},2e3))},deep:!0}},computed:{maxPage(){return Math.ceil(this.items/(this.layout[0]*this.layout[1]))},chunks(){let i=[],t=1,g=1,n={};for(let e in this.inventory)(this.inventory[e].tags.indexOf(this.filter)>-1||this.filter==="all")&&e.toLowerCase().indexOf(this.searchFilter.toLowerCase())>-1&&(n[e]=this.inventory[e],t%this.layout[0]==0&&(n.pageNumber=g,i.push(n),n={},i.length%this.layout[1]==0&&g++),t+=1);return this.items=t,n.pageNumber=g,i.push(n),i}},methods:{setPageNumber:function(i){window.scrollTo(0,0);const t={prev:this.pageNumber>1?this.pageNumber-1:this.pageNumber,first:this.pageNumber>1?this.pageNumber-1:this.pageNumber,mid:this.pageNumber>1?this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+1,last:this.pageNumber>1?this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+2,next:this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber};this.pageNumber=t[i]},btoa:function(i){return btoa(i)}}},B=i=>(F("data-v-fd64f433"),i=i(),I(),i),L={class:"container"},M={class:"row"},j={class:"nosubmit"},A={class:"col-md-12"},D={class:"product-filters"},q={key:0,class:"row product-row"},z={class:"col-md-4 text-center cart-bottom product-width pokemon"},E={key:0,class:"single-product-item"},U={key:0,class:"outofstock-banner"},G={class:"product-image"},H=["src"],J={class:"product-price"},K=["onClick"],Q=B(()=>s("i",{class:"fas fa-shopping-cart"},null,-1)),R={key:2,class:"outofstock-btn"},W={class:"row"},X={class:"col-lg-12 text-center"},Y={class:"pagination-wrap"},Z={key:0,class:"cart-notification"};function $(i,t,g,n,e,a){const v=x("router-link");return o(),l("div",L,[s("div",M,[s("form",j,[y(s("input",{class:"nosubmit",type:"search","onUpdate:modelValue":t[0]||(t[0]=r=>e.searchFilter=r),placeholder:"Search"},null,512),[[w,e.searchFilter]])]),s("div",A,[s("div",D,[s("ul",null,[s("li",{class:c(e.filter=="all"?"active":""),onClick:t[1]||(t[1]=r=>{e.filter="all",e.pageNumber=1})},"All",2),s("li",{class:c(e.filter=="pokemon"?"active":""),onClick:t[2]||(t[2]=r=>{e.filter="pokemon",e.pageNumber=1})}," Pokemon ",2),s("li",{class:c(e.filter=="mats"?"active":""),onClick:t[3]||(t[3]=r=>{e.filter="mats",e.pageNumber=1})},"Mats",2),s("li",{class:c(e.filter=="comics"?"active":""),onClick:t[4]||(t[4]=r=>{e.filter="comics",e.pageNumber=1})}," Comics",2)])])])]),(o(!0),l(b,null,N(a.chunks,r=>(o(),l("div",null,[e.pageNumber==r.pageNumber?(o(),l("div",q,[(o(!0),l(b,null,N(r,(u,h)=>(o(),l("div",z,[h!="pageNumber"?(o(),l("div",E,[u.stock==0?(o(),l("div",U,"Out of Stock!")):m("",!0),s("div",G,[d(v,{to:"/info/"+u.url},{default:f(()=>[s("img",{src:`/img/products/${u.img}`},null,8,H)]),_:2},1032,["to"])]),s("h3",null,p(h),1),s("p",J," $"+p(u.price),1),u.stock!=0?(o(),l("a",{key:1,class:"cart-btn",onClick:ee=>S(O)(h)},[Q,T("Add to Cart")],8,K)):m("",!0),u.stock==0?(o(),l("a",R,"Out of Stock")):m("",!0)])):m("",!0)]))),256))])):m("",!0)]))),256)),s("div",W,[s("div",X,[s("div",Y,[s("ul",null,[s("li",null,[s("a",{onClick:t[5]||(t[5]=r=>a.setPageNumber("prev"))},"Prev")]),s("li",null,[s("a",{class:c(e.pageNumber==1?"active":""),onClick:t[6]||(t[6]=r=>a.setPageNumber("first"))},p(e.pageNumber>1?e.pageNumber-1:e.pageNumber),3)]),s("li",null,[s("a",{class:c(e.pageNumber!=1&&e.pageNumber!=a.maxPage+1?"active":""),onClick:t[7]||(t[7]=r=>a.setPageNumber("mid"))},p(e.pageNumber>1?e.pageNumber:e.pageNumber+1),3)]),s("li",null,[s("a",{onClick:t[8]||(t[8]=r=>a.setPageNumber("last"))},p(e.pageNumber>1?e.pageNumber+1:e.pageNumber+2),1)]),s("li",null,[s("a",{onClick:t[9]||(t[9]=r=>a.setPageNumber("next"))},"Next")])])])])]),d(P,{name:"fade"},{default:f(()=>[e.showCartNotification?(o(),l("div",Z," Item added to cart ")):m("",!0)]),_:1})])}const ie=_(V,[["render",$],["__scopeId","data-v-fd64f433"]]);export{ie as default};
