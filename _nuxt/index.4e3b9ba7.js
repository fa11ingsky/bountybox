import{a as I,m as B,q as G,s as M,o as n,f as a,x as y,y as x,z as V,u as N,h as t,t as h,T as S,F as k,r as P,A as p,b as O,e as L,B as W,w as j,j as z,i as d,C as E,p as J,l as R}from"./entry.47a2819d.js";import{a as U}from"./2.cart.87a87b7f.js";const g=[{img_small:"featured/swsh12-silver-tempest-promo.png",img_large:"featured/swsh12-large-promo.png",price:"10",url:"night_wanderer_booster",title:"Pokemon TCG: Silver Tempest available now!",description:"Japanese Pokemon TCG booster pack from the Night Wanderer set. Contains 5 random cards.",tag:"swsh12"},{img_small:"featured/m2-promo2.png",img_large:"featured/m2-promo2.png",title:"Pokemon TCG: Inferno X available now!",description:"Japanese Pokemon TCG booster pack from the Night Wanderer set. Contains 5 random cards.",tag:"m2"},{img_small:"featured/rivals-promo2.png",img_large:"featured/rivals-promo2.png",price:"10",url:"night_wanderer_booster",title:"Pokemon TCG: Glory of Team Rocket available!",description:"Japanese Pokemon TCG booster pack from the Night Wanderer set. Contains 5 random cards.",tag:"rivals"}],q={class:"overlay"},D={class:"title"},X={class:"indicators","aria-label":"Select featured product"},H=["onClick","aria-pressed","aria-label"],K={__name:"FeaturedBanner",props:{products:{type:Object,required:!0}},emits:["update-filter"],setup(o,{emit:s}){const i=B(0);let e=null;function l(){i.value=(i.value+1)%g.length}function w(c){i.value=c,u()}function b(){r(),e=setInterval(l,1e4)}function r(){e&&(clearInterval(e),e=null)}function u(){r(),b()}function _(){r()}function T(){b()}function F(c){s("update-filter",c)}function A(c){const v="linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25))",C=`${v}, url("/img/${c.img_large}")`,m=`${v}, url("/img/${c.img_small}")`;return{backgroundImage:window.innerWidth<=640?m:C}}return G(()=>{b(),console.log("FeaturedBanner mounted with products:",g)}),M(()=>{r()}),(c,v)=>(n(),a("section",{class:"featured-banner",onMouseenter:_,onMouseleave:T,role:"region","aria-label":"Featured products banner"},[y(S,{name:"fade",mode:"out-in"},{default:x(()=>[(n(),a("a",{class:"slide",key:i.value,style:V(A(N(g)[i.value])),onClick:v[0]||(v[0]=C=>F(N(g)[i.value].tag))},[t("div",q,[t("h2",D,h(N(g)[i.value].title),1)])],4))]),_:1}),t("nav",X,[(n(!0),a(k,null,P(N(g),(C,m)=>(n(),a("button",{key:m,class:p(["dot",{active:m===i.value}]),onClick:ke=>w(m),"aria-pressed":m===i.value,"aria-label":`Show product ${m+1}: ${C.title}`},null,10,H))),128))])],32))}},Q=I(K,[["__scopeId","data-v-d1576b26"]]);const Y={name:"Products",setup(){const o=O();let s=L();return{inventory:o,cart:s}},data(){return{pageNumber:1,items:0,layout:[4,2],filter:"pokemon",searchFilter:"",showCartNotification:!1}},watch:{cart:{handler(o,s){Object.keys(o).length>0&&(this.showCartNotification=!0,setTimeout(()=>{this.showCartNotification=!1},2e3))},deep:!0}},computed:{maxPage(){return Math.ceil(this.items/(this.layout[0]*this.layout[1]))},chunks(){let o=[],s=1,f=1,i={};for(let e in this.inventory)(this.inventory[e].tags.indexOf(this.filter)>-1||this.filter==="all")&&e.toLowerCase().indexOf(this.searchFilter.toLowerCase())>-1&&(i[e]=this.inventory[e],s%this.layout[0]==0&&(i.pageNumber=f,o.push(i),i={},o.length%this.layout[1]==0&&f++),s+=1);return this.items=s,i.pageNumber=f,o.push(i),o}},methods:{setPageNumber:function(o){window.scrollTo(0,0);const s={prev:this.pageNumber>1?this.pageNumber-1:this.pageNumber,first:this.pageNumber>1?this.pageNumber-1:this.pageNumber,mid:this.pageNumber>1?this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+1,last:this.pageNumber>1?this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+2,next:this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber};this.pageNumber=s[o]},btoa:function(o){return btoa(o)},filterByTag(o){this.filter=o,this.pageNumber=1}}},Z=o=>(J("data-v-6e804224"),o=o(),R(),o),$={class:"container"},ee={class:"row"},te={class:"nosubmit"},se={class:"col-md-12"},oe={class:"product-filters"},re={key:0,class:"row product-row"},ie={key:0,class:"single-product-item col-3 text-center product-width"},ne={key:0,class:"outofstock-banner"},ae={class:"product-image"},le=["src"],ue={class:"container",style:{height:"100%"}},ce={class:"row product-info"},me={class:"row"},pe={class:"product-price"},de=["onClick"],ge=Z(()=>t("i",{class:"fas fa-shopping-cart"},null,-1)),he={key:1,class:"outofstock-btn"},fe={class:"row"},be={class:"col text-center"},_e={class:"pagination-wrap"},ve={key:0,class:"cart-notification"};function Ne(o,s,f,i,e,l){const w=Q,b=W("router-link");return n(),a("div",null,[y(w,{products:i.inventory,onUpdateFilter:s[0]||(s[0]=r=>e.filter=r)},null,8,["products"]),t("div",$,[t("div",ee,[t("form",te,[j(t("input",{class:"nosubmit",type:"search","onUpdate:modelValue":s[1]||(s[1]=r=>e.searchFilter=r),placeholder:"Search"},null,512),[[z,e.searchFilter]])]),t("div",se,[t("div",oe,[t("ul",null,[t("li",{class:p(e.filter=="all"?"active":""),onClick:s[2]||(s[2]=r=>{e.filter="all",e.pageNumber=1})},"All ",2),t("li",{class:p(e.filter=="pokemon"?"active":""),onClick:s[3]||(s[3]=r=>{e.filter="pokemon",e.pageNumber=1})}," Pokemon ",2),t("li",{class:p(e.filter=="mats"?"active":""),onClick:s[4]||(s[4]=r=>{e.filter="mats",e.pageNumber=1})},"Mats ",2),t("li",{class:p(e.filter=="comics"?"active":""),onClick:s[5]||(s[5]=r=>{e.filter="comics",e.pageNumber=1})}," Comics",2)])])])]),(n(!0),a(k,null,P(l.chunks,r=>(n(),a(k,null,[e.pageNumber==r.pageNumber?(n(),a("div",re,[(n(!0),a(k,null,P(r,(u,_)=>(n(),a(k,null,[_!="pageNumber"?(n(),a("div",ie,[u.stock==0?(n(),a("div",ne,"Out of Stock!")):d("",!0),t("div",ae,[y(b,{to:"/info/"+u.url},{default:x(()=>[t("img",{src:`/img/products/${u.img}`},null,8,le)]),_:2},1032,["to"])]),t("div",ue,[t("div",ce,[t("h3",null,h(_),1)]),t("div",me,[t("p",pe," $"+h(u.price),1),u.stock!=0?(n(),a("a",{key:0,class:"cart-btn",onClick:T=>N(U)(_)},[ge,E("Add to Cart")],8,de)):d("",!0),u.stock==0?(n(),a("a",he,"Out of Stock")):d("",!0)])])])):d("",!0)],64))),256))])):d("",!0)],64))),256)),t("div",fe,[t("div",be,[t("div",_e,[t("ul",null,[t("li",null,[t("a",{onClick:s[6]||(s[6]=r=>l.setPageNumber("prev"))},"Prev")]),t("li",null,[t("a",{class:p(e.pageNumber==1?"active":""),onClick:s[7]||(s[7]=r=>l.setPageNumber("first"))},h(e.pageNumber>1?e.pageNumber-1:e.pageNumber),3)]),t("li",null,[t("a",{class:p(e.pageNumber!=1&&e.pageNumber!=l.maxPage+1?"active":""),onClick:s[8]||(s[8]=r=>l.setPageNumber("mid"))},h(e.pageNumber>1?e.pageNumber:e.pageNumber+1),3)]),t("li",null,[t("a",{onClick:s[9]||(s[9]=r=>l.setPageNumber("last"))},h(e.pageNumber>1?e.pageNumber+1:e.pageNumber+2),1)]),t("li",null,[t("a",{onClick:s[10]||(s[10]=r=>l.setPageNumber("next"))},"Next")])])])])])]),y(S,{name:"fade"},{default:x(()=>[e.showCartNotification?(n(),a("div",ve," Item added to cart ")):d("",!0)]),_:1})])}const we=I(Y,[["render",Ne],["__scopeId","data-v-6e804224"]]);export{we as default};
