import{a as _,b as k,e as C,l as x,o,f as l,h as s,w as y,j as w,m as c,F as h,r as N,t as p,p as f,q as d,T as P,i as m,u as S,k as T,s as F,x as I}from"./entry.88038fe5.js";import{a as O}from"./2.cart.55525c96.js";const V={name:"Products",setup(){const i=k();let t=C();return{inventory:i,cart:t}},data(){return{pageNumber:1,items:0,layout:[4,2],filter:"pokemon",searchFilter:"",showCartNotification:!1}},watch:{cart:{handler(i,t){Object.keys(i).length>0&&(this.showCartNotification=!0,setTimeout(()=>{this.showCartNotification=!1},2e3))},deep:!0}},computed:{maxPage(){return Math.ceil(this.items/(this.layout[0]*this.layout[1]))},chunks(){let i=[],t=1,g=1,n={};for(let e in this.inventory)(this.inventory[e].tags.indexOf(this.filter)>-1||this.filter==="all")&&e.toLowerCase().indexOf(this.searchFilter.toLowerCase())>-1&&(n[e]=this.inventory[e],t%this.layout[0]==0&&(n.pageNumber=g,i.push(n),n={},i.length%this.layout[1]==0&&g++),t+=1);return this.items=t,n.pageNumber=g,i.push(n),i}},methods:{setPageNumber:function(i){window.scrollTo(0,0);const t={prev:this.pageNumber>1?this.pageNumber-1:this.pageNumber,first:this.pageNumber>1?this.pageNumber-1:this.pageNumber,mid:this.pageNumber>1?this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+1,last:this.pageNumber>1?this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+2,next:this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber};this.pageNumber=t[i]},btoa:function(i){return btoa(i)}}},B=i=>(F("data-v-23a0baa6"),i=i(),I(),i),L={class:"row"},M={class:"nosubmit"},j={class:"col-md-12"},A={class:"product-filters"},D={key:0,class:"row product-row"},q={key:0,class:"single-product-item col text-center product-width"},z={key:0,class:"outofstock-banner"},E={class:"product-image"},U=["src"],G={class:"product-price"},H=["onClick"],J=B(()=>s("i",{class:"fas fa-shopping-cart"},null,-1)),K={key:2,class:"outofstock-btn"},Q={class:"row"},R={class:"col text-center"},W={class:"pagination-wrap"},X={key:0,class:"cart-notification"};function Y(i,t,g,n,e,a){const v=x("router-link");return o(),l("div",null,[s("div",L,[s("form",M,[y(s("input",{class:"nosubmit",type:"search","onUpdate:modelValue":t[0]||(t[0]=r=>e.searchFilter=r),placeholder:"Search"},null,512),[[w,e.searchFilter]])]),s("div",j,[s("div",A,[s("ul",null,[s("li",{class:c(e.filter=="all"?"active":""),onClick:t[1]||(t[1]=r=>{e.filter="all",e.pageNumber=1})},"All",2),s("li",{class:c(e.filter=="pokemon"?"active":""),onClick:t[2]||(t[2]=r=>{e.filter="pokemon",e.pageNumber=1})}," Pokemon ",2),s("li",{class:c(e.filter=="mats"?"active":""),onClick:t[3]||(t[3]=r=>{e.filter="mats",e.pageNumber=1})},"Mats",2),s("li",{class:c(e.filter=="comics"?"active":""),onClick:t[4]||(t[4]=r=>{e.filter="comics",e.pageNumber=1})}," Comics",2)])])])]),(o(!0),l(h,null,N(a.chunks,r=>(o(),l(h,null,[e.pageNumber==r.pageNumber?(o(),l("div",D,[(o(!0),l(h,null,N(r,(u,b)=>(o(),l(h,null,[b!="pageNumber"?(o(),l("div",q,[u.stock==0?(o(),l("div",z,"Out of Stock!")):m("",!0),s("div",E,[f(v,{to:"/info/"+u.url},{default:d(()=>[s("img",{src:`/img/products/${u.img}`},null,8,U)]),_:2},1032,["to"])]),s("h3",null,p(b),1),s("p",G," $"+p(u.price),1),u.stock!=0?(o(),l("a",{key:1,class:"cart-btn",onClick:Z=>S(O)(b)},[J,T("Add to Cart")],8,H)):m("",!0),u.stock==0?(o(),l("a",K,"Out of Stock")):m("",!0)])):m("",!0)],64))),256))])):m("",!0)],64))),256)),s("div",Q,[s("div",R,[s("div",W,[s("ul",null,[s("li",null,[s("a",{onClick:t[5]||(t[5]=r=>a.setPageNumber("prev"))},"Prev")]),s("li",null,[s("a",{class:c(e.pageNumber==1?"active":""),onClick:t[6]||(t[6]=r=>a.setPageNumber("first"))},p(e.pageNumber>1?e.pageNumber-1:e.pageNumber),3)]),s("li",null,[s("a",{class:c(e.pageNumber!=1&&e.pageNumber!=a.maxPage+1?"active":""),onClick:t[7]||(t[7]=r=>a.setPageNumber("mid"))},p(e.pageNumber>1?e.pageNumber:e.pageNumber+1),3)]),s("li",null,[s("a",{onClick:t[8]||(t[8]=r=>a.setPageNumber("last"))},p(e.pageNumber>1?e.pageNumber+1:e.pageNumber+2),1)]),s("li",null,[s("a",{onClick:t[9]||(t[9]=r=>a.setPageNumber("next"))},"Next")])])])])]),f(P,{name:"fade"},{default:d(()=>[e.showCartNotification?(o(),l("div",X," Item added to cart ")):m("",!0)]),_:1})])}const te=_(V,[["render",Y],["__scopeId","data-v-23a0baa6"]]);export{te as default};
