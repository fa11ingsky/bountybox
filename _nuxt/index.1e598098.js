import{a as I,l as B,m as G,p as M,o as n,f as a,q as y,s as x,x as V,u as N,h as s,t as h,T as S,F as k,r as P,y as p,b as O,e as L,z as W,w as j,j as z,i as g,k as E,A as J,B as R}from"./entry.9b6ba059.js";import{a as U}from"./2.cart.c5956fae.js";const d=[{img_small:"featured/swsh12-silver-tempest-promo.png",img_large:"featured/swsh12-large-promo.png",price:"10",url:"night_wanderer_booster",title:"Pokemon TCG: Silver Tempest available now!",description:"Japanese Pokemon TCG booster pack from the Night Wanderer set. Contains 5 random cards.",tag:"swsh12"},{img_small:"featured/m2-promo.png",img_large:"featured/m2-promo.png",title:"Pokemon TCG: Inferno X available now!",description:"Japanese Pokemon TCG booster pack from the Night Wanderer set. Contains 5 random cards.",tag:"m2"},{img_small:"featured/rivals-promo.png",img_large:"featured/rivals-promo-large.png",price:"10",url:"night_wanderer_booster",title:"Pokemon TCG: Glory of Team Rocket available!",description:"Japanese Pokemon TCG booster pack from the Night Wanderer set. Contains 5 random cards.",tag:"rivals"}],q={class:"overlay"},D={class:"title"},X={class:"indicators","aria-label":"Select featured product"},H=["onClick","aria-pressed","aria-label"],K={__name:"FeaturedBanner",props:{products:{type:Object,required:!0}},emits:["update-filter"],setup(r,{emit:t}){const i=B(0);let e=null;function l(){i.value=(i.value+1)%d.length}function w(c){i.value=c,u()}function b(){o(),e=setInterval(l,1e4)}function o(){e&&(clearInterval(e),e=null)}function u(){o(),b()}function _(){o()}function T(){b()}function F(c){t("update-filter",c)}function A(c){const v="linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25))",C=`${v}, url("/img/${c.img_large}")`,m=`${v}, url("/img/${c.img_small}")`;return{backgroundImage:window.innerWidth<=640?m:C}}return G(()=>{b(),console.log("FeaturedBanner mounted with products:",d)}),M(()=>{o()}),(c,v)=>(n(),a("section",{class:"featured-banner",onMouseenter:_,onMouseleave:T,role:"region","aria-label":"Featured products banner"},[y(S,{name:"fade",mode:"out-in"},{default:x(()=>[(n(),a("a",{class:"slide",key:i.value,style:V(A(N(d)[i.value])),onClick:v[0]||(v[0]=C=>F(N(d)[i.value].tag))},[s("div",q,[s("h2",D,h(N(d)[i.value].title),1)])],4))]),_:1}),s("nav",X,[(n(!0),a(k,null,P(N(d),(C,m)=>(n(),a("button",{key:m,class:p(["dot",{active:m===i.value}]),onClick:be=>w(m),"aria-pressed":m===i.value,"aria-label":`Show product ${m+1}: ${C.title}`},null,10,H))),128))])],32))}},Q=I(K,[["__scopeId","data-v-4b4a2f7d"]]);const Y={name:"Products",setup(){const r=O();let t=L();return{inventory:r,cart:t}},data(){return{pageNumber:1,items:0,layout:[4,2],filter:"pokemon",searchFilter:"",showCartNotification:!1}},watch:{cart:{handler(r,t){Object.keys(r).length>0&&(this.showCartNotification=!0,setTimeout(()=>{this.showCartNotification=!1},2e3))},deep:!0}},computed:{maxPage(){return Math.ceil(this.items/(this.layout[0]*this.layout[1]))},chunks(){let r=[],t=1,f=1,i={};for(let e in this.inventory)(this.inventory[e].tags.indexOf(this.filter)>-1||this.filter==="all")&&e.toLowerCase().indexOf(this.searchFilter.toLowerCase())>-1&&(i[e]=this.inventory[e],t%this.layout[0]==0&&(i.pageNumber=f,r.push(i),i={},r.length%this.layout[1]==0&&f++),t+=1);return this.items=t,i.pageNumber=f,r.push(i),r}},methods:{setPageNumber:function(r){window.scrollTo(0,0);const t={prev:this.pageNumber>1?this.pageNumber-1:this.pageNumber,first:this.pageNumber>1?this.pageNumber-1:this.pageNumber,mid:this.pageNumber>1?this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+1,last:this.pageNumber>1?this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber:this.pageNumber>=this.maxPage?this.pageNumber:this.pageNumber+2,next:this.pageNumber<=this.maxPage-1?this.pageNumber+1:this.pageNumber};this.pageNumber=t[r]},btoa:function(r){return btoa(r)},filterByTag(r){this.filter=r,this.pageNumber=1}}},Z=r=>(J("data-v-7300d209"),r=r(),R(),r),$={class:"row"},ee={class:"nosubmit"},te={class:"col-md-12"},se={class:"product-filters"},re={key:0,class:"row product-row"},oe={key:0,class:"single-product-item col text-center product-width"},ie={key:0,class:"outofstock-banner"},ne={class:"product-image"},ae=["src"],le={class:"product-price"},ue=["onClick"],ce=Z(()=>s("i",{class:"fas fa-shopping-cart"},null,-1)),me={key:2,class:"outofstock-btn"},pe={class:"row"},ge={class:"col text-center"},de={class:"pagination-wrap"},he={key:0,class:"cart-notification"};function fe(r,t,f,i,e,l){const w=Q,b=W("router-link");return n(),a("div",null,[y(w,{products:i.inventory,onUpdateFilter:t[0]||(t[0]=o=>e.filter=o)},null,8,["products"]),s("div",$,[s("form",ee,[j(s("input",{class:"nosubmit",type:"search","onUpdate:modelValue":t[1]||(t[1]=o=>e.searchFilter=o),placeholder:"Search"},null,512),[[z,e.searchFilter]])]),s("div",te,[s("div",se,[s("ul",null,[s("li",{class:p(e.filter=="all"?"active":""),onClick:t[2]||(t[2]=o=>{e.filter="all",e.pageNumber=1})},"All",2),s("li",{class:p(e.filter=="pokemon"?"active":""),onClick:t[3]||(t[3]=o=>{e.filter="pokemon",e.pageNumber=1})}," Pokemon ",2),s("li",{class:p(e.filter=="mats"?"active":""),onClick:t[4]||(t[4]=o=>{e.filter="mats",e.pageNumber=1})},"Mats",2),s("li",{class:p(e.filter=="comics"?"active":""),onClick:t[5]||(t[5]=o=>{e.filter="comics",e.pageNumber=1})}," Comics",2)])])])]),(n(!0),a(k,null,P(l.chunks,o=>(n(),a(k,null,[e.pageNumber==o.pageNumber?(n(),a("div",re,[(n(!0),a(k,null,P(o,(u,_)=>(n(),a(k,null,[_!="pageNumber"?(n(),a("div",oe,[u.stock==0?(n(),a("div",ie,"Out of Stock!")):g("",!0),s("div",ne,[y(b,{to:"/info/"+u.url},{default:x(()=>[s("img",{src:`/img/products/${u.img}`},null,8,ae)]),_:2},1032,["to"])]),s("h3",null,h(_),1),s("p",le," $"+h(u.price),1),u.stock!=0?(n(),a("a",{key:1,class:"cart-btn",onClick:T=>N(U)(_)},[ce,E("Add to Cart")],8,ue)):g("",!0),u.stock==0?(n(),a("a",me,"Out of Stock")):g("",!0)])):g("",!0)],64))),256))])):g("",!0)],64))),256)),s("div",pe,[s("div",ge,[s("div",de,[s("ul",null,[s("li",null,[s("a",{onClick:t[6]||(t[6]=o=>l.setPageNumber("prev"))},"Prev")]),s("li",null,[s("a",{class:p(e.pageNumber==1?"active":""),onClick:t[7]||(t[7]=o=>l.setPageNumber("first"))},h(e.pageNumber>1?e.pageNumber-1:e.pageNumber),3)]),s("li",null,[s("a",{class:p(e.pageNumber!=1&&e.pageNumber!=l.maxPage+1?"active":""),onClick:t[8]||(t[8]=o=>l.setPageNumber("mid"))},h(e.pageNumber>1?e.pageNumber:e.pageNumber+1),3)]),s("li",null,[s("a",{onClick:t[9]||(t[9]=o=>l.setPageNumber("last"))},h(e.pageNumber>1?e.pageNumber+1:e.pageNumber+2),1)]),s("li",null,[s("a",{onClick:t[10]||(t[10]=o=>l.setPageNumber("next"))},"Next")])])])])]),y(S,{name:"fade"},{default:x(()=>[e.showCartNotification?(n(),a("div",he," Item added to cart ")):g("",!0)]),_:1})])}const Ne=I(Y,[["render",fe],["__scopeId","data-v-7300d209"]]);export{Ne as default};
