import{_ as m,c as r,a as t,F as u,r as p,g as y,v as f,t as n,b as v,o as a}from"./index.fb72e7be.js";const g={data(){return{subtotal:0,description:"",country:"Australia"}},computed:{shipping(){return this.country=="Australia"?10:20}},methods:{modItem:function(o,s){s==0?this.$root.cart[o]=s:this.$root.cart[o]+s>this.$root.inventory[o].stock||(this.$root.cart[o]+=s),localStorage.cart=JSON.stringify(this.$root.cart),this.refreshCart()},clearCart:function(){this.$root.cart={},localStorage.cart=JSON.stringify(this.$root.cart),this.refreshCart()},initPayPalButton:function(o){paypal.Buttons({style:{shape:"rect",color:"blue",layout:"vertical",label:"checkout"},createOrder:function(s,l){return l.order.create({purchase_units:[{description:o.description,amount:{currency_code:"AUD",value:o.subtotal+o.shipping}}]})},onApprove:function(s,l){return l.order.capture().then(function(h){console.log("Capture result",h,JSON.stringify(h,null,2));const i=document.getElementById("paypal-button-container");i.innerHTML="",i.innerHTML="<h3>Thank you for your payment!</h3>"})},onError:function(s){console.log(s)}}).render("#paypal-button-container")},refreshCart:function(){this.$root.cart=localStorage.cart?JSON.parse(localStorage.cart):{},this.subtotal=0,this.$root.cartItems=0,this.description="";for(let o in this.$root.cart)this.subtotal+=this.$root.inventory[o].price*this.$root.cart[o],this.$root.cartItems+=this.$root.cart[o],this.description+=this.$root.cart[o]>0?`${o} x${this.$root.cart[o]} ; `:"";this.description+=`shp${this.shipping} ; `},btoa:function(o){return btoa(o)}},mounted(){this.refreshCart(),Object.keys(this.$root.cart).length>0&&this.initPayPalButton(this)}},$={class:"CartContainer container"},b={class:"Header"},C=t("h3",{class:"Heading"},"Shopping Cart",-1),k={class:"cartEntries"},S={class:"Cart-Items"},I={class:"image-box"},B=["href"],O=["src"],w={class:"about"},A={class:"title"},N={class:"counter"},T=["onClick"],E={class:"count"},H=["onClick"],J={class:"prices"},P={class:"amount"},L=["onClick"],M=t("u",null,"Remove",-1),V=[M],j=t("hr",null,null,-1),D={class:"shipping-est row"},F=t("div",{class:"deliver-to col-sm-3"},"Ship to:",-1),R=t("option",null,"Australia",-1),U=t("option",null,"International",-1),q=[R,U],z=t("hr",null,null,-1),G={class:"checkout"},K={class:"row"},Q=t("div",{class:"subtotal col"},"Sub-Total",-1),W={class:"cost col"},X={class:"row"},Y={class:"total-items items col"},Z={class:"row"},x=t("div",{class:"col"},"Shipping",-1),tt={class:"cost col"},ot=t("br",null,null,-1),st={class:"row"},et=t("div",{class:"total col"},"Total",-1),it={class:"total cost col"},nt=t("hr",null,null,-1),ct={class:"checkout"},rt={key:0,id:"smart-button-container"},at=t("div",{style:{"text-align":"center"}},[t("div",{id:"paypal-button-container"})],-1),lt=[at];function ht(o,s,l,h,i,c){return a(),r("div",$,[t("div",b,[C,t("h5",{class:"Action",onClick:s[0]||(s[0]=d=>c.clearCart())},"Remove all")]),t("div",k,[(a(!0),r(u,null,p(o.$root.cart,(d,e)=>(a(),r("div",S,[o.$root.cart[e]>0?(a(),r(u,{key:0},[t("div",I,[t("a",{href:"/info/"+o.$root.inventory[e].url},[t("img",{src:"/img/products/"+o.$root.inventory[e].img},null,8,O)],8,B)]),t("div",w,[t("h3",A,n(e),1)]),t("div",N,[t("a",{class:"mod-btn fa-solid fa-circle-plus",onClick:_=>c.modItem(e,1)},null,8,T),t("div",E,n(o.$root.cart[e]),1),t("a",{class:"mod-btn fa-solid fa-circle-minus",onClick:_=>c.modItem(e,-1)},null,8,H)]),t("div",J,[t("div",P,n(o.$root.inventory[e].price*o.$root.cart[e]),1),t("div",{class:"remove",onClick:_=>c.modItem(e,0)},V,8,L)])],64)):v("",!0)]))),256))]),j,t("div",D,[F,y(t("select",{"onUpdate:modelValue":s[1]||(s[1]=d=>i.country=d),class:"col form-select"},q,512),[[f,i.country]])]),z,t("div",G,[t("div",K,[Q,t("div",W,"$"+n(i.subtotal),1)]),t("div",X,[t("div",Y,n(this.$root.cartItems)+" items",1)]),t("div",Z,[x,t("div",tt,"$"+n(c.shipping),1)]),ot,t("div",st,[et,t("div",it,"$"+n(i.subtotal+c.shipping),1)])]),nt,t("div",ct,[Object.keys(o.$root.cart).length>0?(a(),r("div",rt,lt)):v("",!0)])])}const _t=m(g,[["render",ht]]);export{_t as default};
